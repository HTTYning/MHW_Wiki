<view><view class="weaponList"><block wx:for="{{weapons}}" wx:for-item="item" wx:for-index="__i0__" wx:key="id"><view class="weapon-item"><view class="weapon-titile-bar"><view class="weapon-icon"><image src="{{item.assets.icon}}" alt mode="aspectFit" class="_img"></image></view><view class="weapon-name">{{item.name}}</view></view><view class="weapon-attribute"><view class="weapon-img"><image src="{{item.assets.image}}" alt mode="aspectFit" class="_img"></image></view><view class="weapon-attribute-value"><view class="weapon-value-box weapon-rarity">{{'Rare: '+item.rarity+''}}</view><view class="weapon-value-box weapon-attack"><view class="weapon-value-icon"><image src="../../static/weapon/attack.png" mode="aspectFit"></image></view><view class="weapon-value">{{''+item.attack.display+"("+item.attack.raw+')'}}</view></view><view class="weapon-value-box weapon-affinity"><view class="weapon-value-icon"><image src="../../static/weapon/affinity.png" mode="aspectFit"></image></view><view class="weapon-value">{{''+((item.attributes.affinity?item.attributes.affinity:'0')+'%')+''}}</view></view><block wx:for="{{item.elements}}" wx:for-item="elements" wx:for-index="__i1__" wx:key="index"><block wx:if="{{item.elements}}"><view class="weapon-value-box weapon-elements"><view class="weapon-value-icon"><image src="{{'../../static/weapon/element/'+elements.type+'.png'}}" mode="aspectFit"></image></view><view class="weapon-value">{{''+elements.damage+" "+(item.elderseal?"elderseal: "+item.elderseal:"")+''}}</view></view></block></block><view class="weapon-value-box weapon-slots"><image src="{{'../../static/weapon/slot-'+(item.slots[0].rank?item.slots[0].rank:slotsNullStr)+'.png'}}" mode="aspectFit"></image><image src="{{'../../static/weapon/slot-'+(item.slots[1].rank?item.slots[1].rank:slotsNullStr)+'.png'}}" mode="aspectFit"></image><image src="{{'../../static/weapon/slot-'+(item.slots[2].rank?item.slots[2].rank:slotsNullStr)+'.png'}}" mode="aspectFit"></image></view><block wx:if="{{item.durability}}"><view class="weapon-value-box weapon-durability"><view class="weapon-dur-bar" style="{{'background-color:'+('red')+';'+('width:'+(item.durability[0].red/400*100+'%')+';')}}"><block wx:if="{{item.durability[0].red!=0}}"><view class="weapon-dur-value">{{item.durability[0].red}}</view></block></view><view class="weapon-dur-bar" style="{{'background-color:'+('orange')+';'+('width:'+(item.durability[0].orange/400*100+'%')+';')}}"><block wx:if="{{item.durability[0].orange!=0}}"><view class="weapon-dur-value">{{item.durability[0].orange}}</view></block></view><view class="weapon-dur-bar" style="{{'background-color:'+('yellow')+';'+('width:'+(item.durability[0].yellow/400*100+'%')+';')}}"><block wx:if="{{item.durability[0].yellow!=0}}"><view class="weapon-dur-value">{{item.durability[0].yellow}}</view></block></view><view class="weapon-dur-bar" style="{{'background-color:'+('green')+';'+('width:'+(item.durability[0].green/400*100+'%')+';')}}"><block wx:if="{{item.durability[0].green!=0}}"><view class="weapon-dur-value">{{item.durability[0].green}}</view></block></view><view class="weapon-dur-bar" style="{{'background-color:'+('blue')+';'+('width:'+(item.durability[0].blue/400*100+'%')+';')}}"><block wx:if="{{item.durability[0].blue!=0}}"><view class="weapon-dur-value">{{item.durability[0].blue}}</view></block></view><view class="weapon-dur-bar" style="{{'background-color:'+('white')+';'+('width:'+(item.durability[0].white/400*100+'%')+';')}}"><block wx:if="{{item.durability[0].white!=0}}"><view class="weapon-dur-value">{{item.durability[0].white}}</view></block></view><view class="weapon-dur-bar" style="{{'background-color:'+('purple')+';'+('width:'+(item.durability[0].purple/400*100+'%')+';')}}"><block wx:if="{{item.durability[0].purple!=0}}"><view class="weapon-dur-value">{{item.durability[0].purple}}</view></block></view></view></block><block wx:if="{{item.ammo}}"><view class="weapon-value-box weapon-ammo"><block wx:for="{{item.ammo}}" wx:for-item="ammo" wx:for-index="ammoIndex" wx:key="ammoIndex"><view class="weapon-ammo-item">{{''+ammo.type+''}}<block wx:for="{{ammo.capacities}}" wx:for-item="capacities" wx:for-index="__i2__" wx:key="index"><view class="weapon-value weapon-ammo-number">{{''+capacities+'|'}}</view></block></view></block></view></block></view></view></view></block></view></view>