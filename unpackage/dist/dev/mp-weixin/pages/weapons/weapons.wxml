<view><view class="search-box"><view class="search-text"><input class="search-ipt" type="text" placeholder="Please enter a name" data-event-opts="{{[['input',[['__set_model',['','searchTxt','$event',[]]],['searchEvent']]]]}}" value="{{searchTxt}}" bindinput="__e"/></view><view data-event-opts="{{[['tap',[['searchReset']]]]}}" class="search-reset-btn" bindtap="__e"><image class="search-reset-icon" src="../../static/weapon/reset.png" mode="aspectFit"></image></view></view><view class="weapon-title-type"><view class="weapon-title-type-image"><image src="{{weaponTypeImagePath}}" mode="aspectFit"></image></view><view>{{''+weaponsType+''}}</view></view><view class="weaponList"><block wx:for="{{weapons}}" wx:for-item="item" wx:for-index="__i0__" wx:key="id"><view data-event-opts="{{[['tap',[['weaponDetails',['$0'],[[['weapons','id',item.id,'id']]]]]]]}}" class="weapon-item" bindtap="__e"><view class="weapon-titile-bar"><view class="weapon-icon"><image src="{{item.assets.icon}}" alt mode="aspectFit" class="_img"></image></view><view class="weapon-name">{{item.name}}</view></view><view class="weapon-attribute"><view class="weapon-img"><image src="{{item.assets.image}}" alt mode="aspectFit" class="_img"></image></view><view class="weapon-attribute-value"><view class="weapon-value-box weapon-rarity">Rare:<view class="weapon-value">{{''+item.rarity+''}}</view></view><view class="weapon-value-box weapon-attack"><view class="weapon-value-icon"><image src="../../static/weapon/attack.png" mode="aspectFit"></image></view><view class="weapon-value">{{''+item.attack.display+"("+item.attack.raw+')'}}</view></view><view class="weapon-value-box weapon-affinity"><view class="weapon-value-icon"><image src="../../static/weapon/affinity.png" mode="aspectFit"></image></view><view class="weapon-value">{{''+((item.attributes.affinity?item.attributes.affinity:'0')+'%')+''}}</view></view><view class="weapon-value-box weapon-defense"><view class="weapon-value-icon"><image src="../../static/weapon/defense.png" mode="aspectFit"></image></view><view class="weapon-value">{{''+(item.attributes.defense?item.attributes.defense:'0')+''}}</view></view><block wx:for="{{item.elements}}" wx:for-item="elements" wx:for-index="__i1__" wx:key="index"><block wx:if="{{item.elements}}"><view class="weapon-value-box weapon-elements"><view class="weapon-value-icon"><image src="{{'../../static/weapon/element/'+elements.type+'.png'}}" mode="aspectFit"></image></view><view class="weapon-value">{{''+elements.damage+''}}</view></view></block></block><block wx:if="{{item.elderseal}}"><view class="weapon-value-box weapon-elderseal"><view class="weapon-value-icon"><image src="../../static/weapon/elderseal.png" mode="aspectFit"></image></view><view class="weapon-value">{{''+item.elderseal+''}}</view></view></block><view class="weapon-value-box weapon-slots"><view class="weapon-value-icon weapon-slots-icon"><image src="../../static/weapon/slots.png" mode="aspectFit"></image></view><image src="{{'../../static/weapon/slot-'+(item.slots[0].rank?item.slots[0].rank:slotsNullStr)+'.png'}}" mode="aspectFit"></image><image src="{{'../../static/weapon/slot-'+(item.slots[1].rank?item.slots[1].rank:slotsNullStr)+'.png'}}" mode="aspectFit"></image><image src="{{'../../static/weapon/slot-'+(item.slots[2].rank?item.slots[2].rank:slotsNullStr)+'.png'}}" mode="aspectFit"></image></view><block wx:if="{{item.deviation}}"><view class="weapon-value-box weapon-deviation"><view class="weapon-value-icon"><image src="../../static/weapon/deviation.png" mode="aspectFit"></image></view><view class="weapon-value">{{''+item.deviation+''}}</view></view></block><block wx:if="{{item.durability}}"><view class="weapon-value-box weapon-durability"><view class="weapon-value-icon weapon-durability-icon"><image src="../../static/weapon/durability.png" mode="aspectFit"></image></view><view class="weapon-dur-bar"><view class="weapon-dur-item" style="{{'background-color:'+('red')+';'+('width:'+(item.durability[0].red/400*100+'%')+';')}}"><block wx:if="{{item.durability[0].red!=0}}"><view class="weapon-dur-value">{{item.durability[0].red}}</view></block></view><view class="weapon-dur-item" style="{{'background-color:'+('orange')+';'+('width:'+(item.durability[0].orange/400*100+'%')+';')}}"><block wx:if="{{item.durability[0].orange!=0}}"><view class="weapon-dur-value">{{item.durability[0].orange}}</view></block></view><view class="weapon-dur-item" style="{{'background-color:'+('yellow')+';'+('width:'+(item.durability[0].yellow/400*100+'%')+';')}}"><block wx:if="{{item.durability[0].yellow!=0}}"><view class="weapon-dur-value">{{item.durability[0].yellow}}</view></block></view><view class="weapon-dur-item" style="{{'background-color:'+('green')+';'+('width:'+(item.durability[0].green/400*100+'%')+';')}}"><block wx:if="{{item.durability[0].green!=0}}"><view class="weapon-dur-value">{{item.durability[0].green}}</view></block></view><view class="weapon-dur-item" style="{{'background-color:'+('blue')+';'+('width:'+(item.durability[0].blue/400*100+'%')+';')}}"><block wx:if="{{item.durability[0].blue!=0}}"><view class="weapon-dur-value">{{item.durability[0].blue}}</view></block></view><view class="weapon-dur-item" style="{{'background-color:'+('white')+';'+('width:'+(item.durability[0].white/400*100+'%')+';')}}"><block wx:if="{{item.durability[0].white!=0}}"><view class="weapon-dur-value">{{item.durability[0].white}}</view></block></view><view class="weapon-dur-item" style="{{'background-color:'+('purple')+';'+('width:'+(item.durability[0].purple/400*100+'%')+';')}}"><block wx:if="{{item.durability[0].purple!=0}}"><view class="weapon-dur-value">{{item.durability[0].purple}}</view></block></view></view></view></block><block wx:if="{{item.ammo}}"><view class="weapon-value-box weapon-ammo"><block wx:for="{{item.ammo}}" wx:for-item="ammo" wx:for-index="ammoIndex" wx:key="ammoIndex"><view class="weapon-ammo-item"><view class="weapon-value-icon weapon-ammo-icon"><image src="{{'../../static/weapon/ammo/'+ammo.type+'.png'}}" mode="aspectFit"></image></view><block wx:for="{{ammo.capacities}}" wx:for-item="capacities" wx:for-index="__i2__" wx:key="index"><view class="weapon-value weapon-ammo-number">{{''+capacities+''}}</view></block></view></block></view></block><block wx:if="{{item.specialAmmo}}"><view class="weapon-value-box weapon-specialAmmo"><view class="weapon-value-icon"><image src="../../static/weapon/specialAmmo.png" mode="aspectFit"></image></view><view class="weapon-value">{{''+item.specialAmmo+''}}</view></view></block><block wx:if="{{item.coatings}}"><view class="weapon-value-box weapon-coatings"><block wx:for="{{item.coatings}}" wx:for-item="coatings" wx:for-index="coatingsIndex" wx:key="coatingsIndex"><view class="weapon-value-icon weapon-coatings-icon"><image src="{{'../../static/weapon/coatings/'+coatings+'.png'}}" mode="aspectFit"></image></view></block></view></block><block wx:if="{{item.shelling}}"><view class="weapon-value-box weapon-shelling"><view class="weapon-value-icon weapon-shelling-icon"><image src="../../static/weapon/shelling.png" mode="aspectFit"></image></view><view class="weapon-value">{{''+item.shelling.type+''}}</view><view class="weapon-value">{{'Level'+item.shelling.level+''}}</view></view></block><block wx:if="{{item.phial}}"><view class="weapon-value-box weapon-phial"><view class="weapon-value-icon weapon-phial-icon"><image src="../../static/weapon/phial.png" mode="aspectFit"></image></view><view class="weapon-value">{{''+item.phial.type+''}}</view></view></block><block wx:if="{{item.boostType}}"><view class="weapon-value-box weapon-boostType"><view class="weapon-value-icon weapon-boostType-icon"><image src="../../static/weapon/boostType.png" mode="aspectFit"></image></view><view class="weapon-value">{{''+item.boostType+(item.damageType!=item.boostType?'【'+item.damageType+'】':'')+''}}</view></view></block></view></view></view></block></view></view>