<view><view class="personal-info"><view class="info-box-left"><view data-event-opts="{{[['tap',[['choiceImageEvent']]]]}}" class="info-headImage" bindtap="__e"><image src="{{userInfo.loginStatus?userInfo.headImagePath:userInfo.defaultImagePath}}" mode="aspectFit"></image></view></view><view class="info-box-middle"><view class="info-name">{{''+(userInfo.loginStatus?userInfo.nickname:'Not logged in')+''}}</view></view><view class="info-box-right"><view data-event-opts="{{[['tap',[['choiceLoginOrExited']]]]}}" bindtap="__e">{{userInfo.loginStatus?'Log Out':'Log In'}}</view></view></view><view data-event-opts="{{[['tap',[['goSettingPage']]]]}}" class="setting-box" bindtap="__e"><view class="btn-text">Setting</view><view class="btn-icon"><image src="../../static/personal/right.png" mode="aspectFit"></image></view></view><view data-event-opts="{{[['tap',[['choiceLoginOrExited']]]]}}" class="{{['window-bg',windowStatus?'window-bg-show':'']}}" bindtap="__e"><view data-event-opts="{{[['tap',[['',['$event']]]]]}}" class="window-box" catchtap="__e"><block wx:if="{{accountOperation=='login'}}"><view class="window-title">Login</view></block><block wx:if="{{accountOperation=='register'}}"><view class="window-title">Register</view></block><view data-event-opts="{{[['tap',[['windowSwitch']]]]}}" class="window-hidden-btn" bindtap="__e"><image src="../../static/personal/hidden.png" mode="aspectFit"></image></view><block wx:if="{{accountOperation=='login'}}"><view class="ipt-list login-ipt-list"><block wx:if="{{isEmailLogin==false}}"><view data-event-opts="{{[['tap',[['switchLoginIptStatus',['Phone']]]]]}}" class="ipt-item" bindtap="__e"><view class="{{['item-text',loginIptStatus.Phone?'item-text-show':'']}}"><view>Phone</view><view class="tip-text">{{''+loginTip.Phone+''}}</view></view><view class="{{['item-ipt-box',loginIptStatus.Phone?'item-ipt-box-show':'']}}"><input class="item-ipt" focus="{{loginIptStatus.Phone}}" type="number" maxlength="13" data-event-opts="{{[['input',[['__set_model',['$0','Phone','$event',['trim']],['loginIptValue']],['checkLoginIptValue',['Phone']]]],['blur',[['blurLoginIpt',['Phone']],['$forceUpdate']]]]}}" value="{{loginIptValue.Phone}}" bindinput="__e" bindblur="__e"/></view></view></block><block wx:if="{{isEmailLogin==true}}"><view data-event-opts="{{[['tap',[['switchLoginIptStatus',['Email']]]]]}}" class="ipt-item" bindtap="__e"><view class="{{['item-text',loginIptStatus.Email?'item-text-show':'']}}"><view>Email</view><view class="tip-text">{{''+loginTip.Email+''}}</view></view><view class="{{['item-ipt-box',loginIptStatus.Email?'item-ipt-box-show':'']}}"><input class="item-ipt" focus="{{loginIptStatus.Email}}" type="text" maxlength="30" data-event-opts="{{[['input',[['__set_model',['$0','Email','$event',['trim']],['loginIptValue']],['checkLoginIptValue',['Email']]]],['blur',[['blurLoginIpt',['Email']],['$forceUpdate']]]]}}" value="{{loginIptValue.Email}}" bindinput="__e" bindblur="__e"/></view></view></block><view data-event-opts="{{[['tap',[['switchLoginIptStatus',['Password']]]]]}}" class="ipt-item" bindtap="__e"><view class="{{['item-text',loginIptStatus.Password?'item-text-show':'']}}"><view>Password</view></view><view class="{{['item-ipt-box',loginIptStatus.Password?'item-ipt-box-show':'']}}"><input class="item-ipt" focus="{{loginIptStatus.Password}}" password="{{true}}" type="text" maxlength="30" data-event-opts="{{[['blur',[['blurLoginIpt',['Password']],['$forceUpdate']]],['input',[['__set_model',['$0','Password','$event',['trim']],['loginIptValue']]]]]}}" value="{{loginIptValue.Password}}" bindblur="__e" bindinput="__e"/></view></view></view></block><block wx:if="{{accountOperation=='register'}}"><view class="ipt-list register-ipt-list"><view data-event-opts="{{[['tap',[['switchRegisterIptStatus',['Nickname']]]]]}}" class="ipt-item" bindtap="__e"><view class="{{['item-text',registerIptStatus.Nickname?'item-text-show':'']}}"><view>Nickname</view><view class="tip-text">{{''+registerTip.Nickname+''}}</view></view><view class="{{['item-ipt-box',registerIptStatus.Nickname?'item-ipt-box-show':'']}}"><input class="item-ipt" focus="{{registerIptStatus.Nickname}}" type="text" maxlength="20" data-event-opts="{{[['input',[['__set_model',['$0','Nickname','$event',['trim']],['registerIptValue']],['checkIptValue',['Nickname']]]],['blur',[['blurRegisterIpt',['Nickname']],['$forceUpdate']]]]}}" value="{{registerIptValue.Nickname}}" bindinput="__e" bindblur="__e"/></view></view><view data-event-opts="{{[['tap',[['switchRegisterIptStatus',['Phone']]]]]}}" class="ipt-item" bindtap="__e"><view class="{{['item-text',registerIptStatus.Phone?'item-text-show':'']}}"><view>Phone</view><view class="tip-text">{{''+registerTip.Phone+''}}</view></view><view class="{{['item-ipt-box',registerIptStatus.Phone?'item-ipt-box-show':'']}}"><input class="item-ipt" focus="{{registerIptStatus.Phone}}" type="number" maxlength="13" data-event-opts="{{[['input',[['__set_model',['$0','Phone','$event',['trim']],['registerIptValue']],['checkIptValue',['Phone']]]],['blur',[['blurRegisterIpt',['Phone']],['$forceUpdate']]]]}}" value="{{registerIptValue.Phone}}" bindinput="__e" bindblur="__e"/></view></view><view data-event-opts="{{[['tap',[['switchRegisterIptStatus',['Email']]]]]}}" class="ipt-item" bindtap="__e"><view class="{{['item-text',registerIptStatus.Email?'item-text-show':'']}}"><view>Email (Can be empty)</view><view class="tip-text">{{''+registerTip.Email+''}}</view></view><view class="{{['item-ipt-box',registerIptStatus.Email?'item-ipt-box-show':'']}}"><input class="item-ipt" focus="{{registerIptStatus.Email}}" type="text" maxlength="30" data-event-opts="{{[['input',[['__set_model',['$0','Email','$event',['trim']],['registerIptValue']],['checkIptValue',['Email']]]],['blur',[['blurRegisterIpt',['Email']],['$forceUpdate']]]]}}" value="{{registerIptValue.Email}}" bindinput="__e" bindblur="__e"/></view></view><view data-event-opts="{{[['tap',[['switchRegisterIptStatus',['Password']]]]]}}" class="ipt-item" bindtap="__e"><view class="{{['item-text',registerIptStatus.Password?'item-text-show':'']}}"><view>Password</view><view class="tip-text">{{''+registerTip.Password+''}}</view></view><view class="{{['item-ipt-box',registerIptStatus.Password?'item-ipt-box-show':'']}}"><input class="item-ipt" focus="{{registerIptStatus.Password}}" password="{{true}}" type="text" maxlength="30" data-event-opts="{{[['input',[['__set_model',['$0','Password','$event',['trim']],['registerIptValue']],['checkIptValue',['Password']]]],['blur',[['blurRegisterIpt',['Password']],['$forceUpdate']]]]}}" value="{{registerIptValue.Password}}" bindinput="__e" bindblur="__e"/></view></view><view data-event-opts="{{[['tap',[['switchRegisterIptStatus',['ConfirmPassword']]]]]}}" class="ipt-item" bindtap="__e"><view class="{{['item-text',registerIptStatus.ConfirmPassword?'item-text-show':'']}}"><view>ConfirmPassword</view><view class="tip-text">{{''+registerTip.ConfirmPassword+''}}</view></view><view class="{{['item-ipt-box',registerIptStatus.ConfirmPassword?'item-ipt-box-show':'']}}"><input class="item-ipt" focus="{{registerIptStatus.ConfirmPassword}}" password="{{true}}" type="text" maxlength="30" data-event-opts="{{[['input',[['__set_model',['$0','ConfirmPassword','$event',['trim']],['registerIptValue']],['checkIptValue',['ConfirmPassword']]]],['blur',[['blurRegisterIpt',['ConfirmPassword']],['$forceUpdate']]]]}}" value="{{registerIptValue.ConfirmPassword}}" bindinput="__e" bindblur="__e"/></view></view></view></block><view class="operation-btn-box"><block wx:if="{{accountOperation=='login'}}"><view class="operation-btn-item login-btn"><button class="operation-btn" type="default" data-event-opts="{{[['tap',[['loginEvent']]]]}}" bindtap="__e">Login</button></view></block><block wx:if="{{accountOperation=='register'}}"><view class="operation-btn-item register-btn"><button class="operation-btn" type="default" data-event-opts="{{[['tap',[['registerEvent']]]]}}" bindtap="__e">Register</button></view></block><block wx:if="{{accountOperation=='register'}}"><view data-event-opts="{{[['tap',[['switchOperation',['login']]]]]}}" class="operation-btn-item switch-login-btn" bindtap="__e"><button class="operation-btn" type="default">Go Login</button></view></block><block wx:if="{{accountOperation=='login'}}"><view data-event-opts="{{[['tap',[['switchOperation',['register']]]]]}}" class="operation-btn-item switch-register-btn" bindtap="__e"><button class="operation-btn" type="default">Go Register</button></view></block><block wx:if="{{accountOperation=='login'&&isEmailLogin==false}}"><view data-event-opts="{{[['tap',[['switchLoginMethod']]]]}}" class="operation-btn-item email-login-btn" bindtap="__e"><button class="operation-btn" type="default">Email Login (If any)</button></view></block><block wx:if="{{accountOperation=='login'&&isEmailLogin==true}}"><view data-event-opts="{{[['tap',[['switchLoginMethod']]]]}}" class="operation-btn-item email-login-btn" bindtap="__e"><button class="operation-btn" type="default">Phone Login</button></view></block></view></view></view></view>